{"ast":null,"code":"import _regeneratorRuntime from\"/Users/heeaelee/Documents/github/fb_test/facebook-clone/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/heeaelee/Documents/github/fb_test/facebook-clone/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/heeaelee/Documents/github/fb_test/facebook-clone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/heeaelee/Documents/github/fb_test/facebook-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useSelector}from\"react-redux\";import{Chip,Paper,Divider,LinearProgress}from\"@material-ui/core\";import imageCompression from\"browser-image-compression\";import Avatar from\"@material-ui/core/Avatar\";import VideocamRoundedIcon from\"@material-ui/icons/VideocamRounded\";import PhotoRoundedIcon from\"@material-ui/icons/PhotoRounded\";import EmojiEmotionsOutlinedIcon from\"@material-ui/icons/EmojiEmotionsOutlined\";import firebase from\"firebase\";import{v4 as uuid}from\"uuid\";import db,{storage}from\"../../firebase\";import Styles from\"./Style\";import swal from\"@sweetalert/with-react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Form=function Form(){var classes=Styles();var _useSelector=useSelector(function(state){return state.user;}),displayName=_useSelector.displayName,photoURL=_useSelector.photoURL;var _useState=useState({description:\"\",file:{type:\"\",name:\"\",data:\"\"}}),_useState2=_slicedToArray(_useState,2),uploadData=_useState2[0],setUploadData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),progress=_useState4[0],setProgress=_useState4[1];var uploadToFirebaseDB=function uploadToFirebaseDB(fileData){// uploading to collection called posts\ndb.collection(\"posts\").add({profile:photoURL,username:displayName,timestamp:firebase.firestore.FieldValue.serverTimestamp(),description:uploadData.description,fileType:uploadData.file.type,fileName:uploadData.file.name,fileData:fileData}).then(function(){return resetState();});};var handleSubmitButton=function handleSubmitButton(e){e.preventDefault();// verify atleast one of the input fields are not empyt\nif(uploadData.description||uploadData.file.data){// if file input is true...upload the file to Fire-Store\nif(uploadData.file.data){var id=uuid();var uploadTask=storage.ref(\"posts/\".concat(id)).putString(uploadData.file.data,\"data_url\");uploadTask.on(\"state_changed\",function(snapshot){var value=Math.floor(snapshot.bytesTransferred/snapshot.totalBytes*100);setProgress(value);},function(error){alert(error);},function(){storage.ref(\"posts\").child(id).getDownloadURL().then(function(url){return uploadToFirebaseDB(url);});});// do not go further..\nreturn;}// if not file input provided\nuploadToFirebaseDB(uploadData.file.data);}else{swal(\"ðŸ˜• Input field can not be empty\");}};// if file name is too long.. compress it\nvar fileNameCompressor=function fileNameCompressor(str,limit){var fileName=str;var arr=str.split(\".\");var name=arr[0];var ext=arr[arr.length-1];if(name.length>limit){fileName=name.substring(0,limit).trim()+\"... .\"+ext;}return fileName;};var imageUploadHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e,type){var inputFile,_inputFile,inputFileType,inputFileExec,inputFileName,fileSize,acceptedImageFormats,acceptedVideoFormats,compressedInputFile,compressionOptions,inputFileDataBase64,file;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:inputFile=e.target.files[0];_inputFile=inputFile.type.split(\"/\");inputFileType=_inputFile[0];inputFileExec=_inputFile[1];inputFileName=fileNameCompressor(inputFile.name,20);fileSize=inputFile.size/(1024*1024);acceptedImageFormats=[\"png\",\"jpg\",\"jpeg\",\"gif\"];acceptedVideoFormats=[\"mp4\",\"mkv\",\"3gp\",\"avi\",\"webm\"];_context.t0=type;_context.next=_context.t0===\"video\"?11:_context.t0===\"image\"?20:29;break;case 11:if(acceptedVideoFormats.some(function(format){return format.includes(inputFileExec);})){_context.next=15;break;}swal(\"ðŸ”´ Please select video format of mp4 , mkv , av \");e.target.value=\"\";return _context.abrupt(\"return\");case 15:if(!(fileSize>10)){_context.next=19;break;}swal(\"ðŸ”´ Please select a video less than 10MB file size\");e.target.value=\"\";return _context.abrupt(\"return\");case 19:return _context.abrupt(\"break\",32);case 20:if(acceptedImageFormats.some(function(format){return format.includes(inputFileExec);})){_context.next=24;break;}swal(\"ðŸ”´ Please select image format of png , jpg , jpeg , gif \");e.target.value=\"\";return _context.abrupt(\"return\");case 24:if(!(fileSize>2)){_context.next=28;break;}swal(\"ðŸ”´ Please select an image less than 2MB file size\");e.target.value=\"\";return _context.abrupt(\"return\");case 28:return _context.abrupt(\"break\",32);case 29:swal(\"ðŸ˜® OOPS...!!! Invalid file format\");e.target.value=\"\";return _context.abrupt(\"return\");case 32:compressedInputFile=inputFile;if(!(inputFileType===\"image\")){_context.next=44;break;}//compression algorithm\ncompressionOptions={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:true};_context.prev=35;_context.next=38;return imageCompression(inputFile,compressionOptions);case 38:compressedInputFile=_context.sent;_context.next=44;break;case 41:_context.prev=41;_context.t1=_context[\"catch\"](35);alert(_context.t1);case 44:file=new FileReader();if(compressedInputFile){file.onloadend=function(fileLoadedEvent){inputFileDataBase64=fileLoadedEvent.target.result;setUploadData(_objectSpread(_objectSpread({},uploadData),{},{file:{type:inputFileType,name:inputFileName,data:inputFileDataBase64}}));};file.readAsDataURL(compressedInputFile);}// clear the file input event value\ne.target.value=\"\";case 47:case\"end\":return _context.stop();}}},_callee,null,[[35,41]]);}));return function imageUploadHandler(_x,_x2){return _ref.apply(this,arguments);};}();var resetState=function resetState(){setUploadData({description:\"\",file:{type:\"\",name:\"\",data:\"\"}});setProgress(\"\");};return/*#__PURE__*/_jsxs(Paper,{className:classes.upload,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.upload__header,children:[/*#__PURE__*/_jsx(Avatar,{src:photoURL}),/*#__PURE__*/_jsxs(\"form\",{className:classes.header__form,onSubmit:handleSubmitButton,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"What's on your mind, \".concat(displayName,\"?\"),value:uploadData.description,onChange:function onChange(e){return setUploadData(_objectSpread(_objectSpread({},uploadData),{},{description:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{id:\"upload-image\",type:\"file\",accept:\"image/*\",hidden:true,onChange:function onChange(e){return imageUploadHandler(e,\"image\");}}),/*#__PURE__*/_jsx(\"input\",{id:\"upload-video\",type:\"file\",accept:\"video/*\",hidden:true,onChange:function onChange(e){return imageUploadHandler(e,\"video\");}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Post\"})]})]}),uploadData.file.name&&!progress&&/*#__PURE__*/_jsx(\"div\",{className:classes.selectedFile,children:/*#__PURE__*/_jsx(Chip,{color:\"primary\",size:\"small\",onDelete:resetState,icon:uploadData.file.type===\"image\"?/*#__PURE__*/_jsx(PhotoRoundedIcon,{}):/*#__PURE__*/_jsx(VideocamRoundedIcon,{}),label:uploadData.file.name})}),progress?/*#__PURE__*/_jsxs(\"div\",{className:classes.uploading,children:[/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:progress,className:classes.progress}),/*#__PURE__*/_jsxs(\"p\",{children:[progress,\" %\"]})]}):\"\",/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.upload__media,children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"upload-video\",className:classes.media__options,children:[/*#__PURE__*/_jsx(VideocamRoundedIcon,{style:{color:\"red\"}}),/*#__PURE__*/_jsx(\"h4\",{children:\"Video\"})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"upload-image\",className:classes.media__options,children:[/*#__PURE__*/_jsx(PhotoRoundedIcon,{style:{color:\"green\"}}),/*#__PURE__*/_jsx(\"h4\",{children:\"Photo\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.media__options,children:[/*#__PURE__*/_jsx(EmojiEmotionsOutlinedIcon,{style:{color:\"orange\"}}),/*#__PURE__*/_jsx(\"h4\",{children:\"Feeling/Activity\"})]})]})]});};export default Form;","map":{"version":3,"names":["React","useState","useSelector","Chip","Paper","Divider","LinearProgress","imageCompression","Avatar","VideocamRoundedIcon","PhotoRoundedIcon","EmojiEmotionsOutlinedIcon","firebase","v4","uuid","db","storage","Styles","swal","Form","classes","state","user","displayName","photoURL","description","file","type","name","data","uploadData","setUploadData","progress","setProgress","uploadToFirebaseDB","fileData","collection","add","profile","username","timestamp","firestore","FieldValue","serverTimestamp","fileType","fileName","then","resetState","handleSubmitButton","e","preventDefault","id","uploadTask","ref","putString","on","snapshot","value","Math","floor","bytesTransferred","totalBytes","error","alert","child","getDownloadURL","url","fileNameCompressor","str","limit","arr","split","ext","length","substring","trim","imageUploadHandler","inputFile","target","files","_inputFile","inputFileType","inputFileExec","inputFileName","fileSize","size","acceptedImageFormats","acceptedVideoFormats","some","format","includes","compressedInputFile","compressionOptions","maxSizeMB","maxWidthOrHeight","useWebWorker","FileReader","onloadend","fileLoadedEvent","inputFileDataBase64","result","readAsDataURL","upload","upload__header","header__form","selectedFile","uploading","upload__media","media__options","color"],"sources":["/Users/heeaelee/Documents/github/fb_test/facebook-clone/src/components/form/Form.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Chip, Paper, Divider, LinearProgress } from \"@material-ui/core\";\nimport imageCompression from \"browser-image-compression\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport VideocamRoundedIcon from \"@material-ui/icons/VideocamRounded\";\nimport PhotoRoundedIcon from \"@material-ui/icons/PhotoRounded\";\nimport EmojiEmotionsOutlinedIcon from \"@material-ui/icons/EmojiEmotionsOutlined\";\nimport firebase from \"firebase\";\nimport { v4 as uuid } from \"uuid\";\nimport db, { storage } from \"../../firebase\";\nimport Styles from \"./Style\";\nimport swal from \"@sweetalert/with-react\";\n\nconst Form = () => {\n  const classes = Styles();\n  const { displayName, photoURL } = useSelector((state) => state.user);\n\n  const [uploadData, setUploadData] = useState({\n    description: \"\",\n    file: {\n      type: \"\",\n      name: \"\",\n      data: \"\",\n    },\n  });\n\n  const [progress, setProgress] = useState(\"\");\n\n  const uploadToFirebaseDB = (fileData) => {\n    // uploading to collection called posts\n    db.collection(\"posts\")\n      .add({\n        profile: photoURL,\n        username: displayName,\n        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n        description: uploadData.description,\n        fileType: uploadData.file.type,\n        fileName: uploadData.file.name,\n        fileData: fileData,\n      })\n      .then(() => resetState());\n  };\n\n  const handleSubmitButton = (e) => {\n    e.preventDefault();\n\n    // verify atleast one of the input fields are not empyt\n    if (uploadData.description || uploadData.file.data) {\n      // if file input is true...upload the file to Fire-Store\n      if (uploadData.file.data) {\n        const id = uuid();\n        const uploadTask = storage.ref(`posts/${id}`).putString(uploadData.file.data, \"data_url\");\n        uploadTask.on(\n          \"state_changed\",\n          (snapshot) => {\n            const value = Math.floor((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n            setProgress(value);\n          },\n\n          (error) => {\n            alert(error);\n          },\n\n          () => {\n            storage\n              .ref(\"posts\")\n              .child(id)\n              .getDownloadURL()\n              .then((url) => uploadToFirebaseDB(url));\n          }\n        );\n\n        // do not go further..\n        return;\n      }\n      // if not file input provided\n      uploadToFirebaseDB(uploadData.file.data);\n    } else {\n      swal(\"ðŸ˜• Input field can not be empty\");\n    }\n  };\n\n  // if file name is too long.. compress it\n  const fileNameCompressor = (str, limit) => {\n    let fileName = str;\n    const arr = str.split(\".\");\n    const name = arr[0];\n    const ext = arr[arr.length - 1];\n\n    if (name.length > limit) {\n      fileName = name.substring(0, limit).trim() + \"... .\" + ext;\n    }\n    return fileName;\n  };\n\n  const imageUploadHandler = async (e, type) => {\n    const inputFile = e.target.files[0];\n    const _inputFile = inputFile.type.split(\"/\");\n    const inputFileType = _inputFile[0];\n    const inputFileExec = _inputFile[1];\n    const inputFileName = fileNameCompressor(inputFile.name, 20);\n\n    const fileSize = inputFile.size / (1024 * 1024);\n\n    const acceptedImageFormats = [\"png\", \"jpg\", \"jpeg\", \"gif\"];\n    const acceptedVideoFormats = [\"mp4\", \"mkv\", \"3gp\", \"avi\", \"webm\"];\n\n    switch (type) {\n      case \"video\":\n        if (!acceptedVideoFormats.some((format) => format.includes(inputFileExec))) {\n          swal(\"ðŸ”´ Please select video format of mp4 , mkv , av \");\n          e.target.value = \"\";\n          return;\n        }\n        if (fileSize > 10) {\n          swal(\"ðŸ”´ Please select a video less than 10MB file size\");\n          e.target.value = \"\";\n          return;\n        }\n        break;\n      case \"image\":\n        if (!acceptedImageFormats.some((format) => format.includes(inputFileExec))) {\n          swal(\"ðŸ”´ Please select image format of png , jpg , jpeg , gif \");\n          e.target.value = \"\";\n          return;\n        }\n        if (fileSize > 2) {\n          swal(\"ðŸ”´ Please select an image less than 2MB file size\");\n          e.target.value = \"\";\n          return;\n        }\n        break;\n      default:\n        swal(\"ðŸ˜® OOPS...!!! Invalid file format\");\n        e.target.value = \"\";\n        return;\n    }\n\n    let compressedInputFile = inputFile;\n    if (inputFileType === \"image\") {\n      //compression algorithm\n      const compressionOptions = {\n        maxSizeMB: 1,\n        maxWidthOrHeight: 1920,\n        useWebWorker: true,\n      };\n\n      try {\n        compressedInputFile = await imageCompression(inputFile, compressionOptions);\n      } catch (error) {\n        alert(error);\n      }\n    }\n\n    let inputFileDataBase64;\n    const file = new FileReader();\n    if (compressedInputFile) {\n      file.onloadend = (fileLoadedEvent) => {\n        inputFileDataBase64 = fileLoadedEvent.target.result;\n        setUploadData({\n          ...uploadData,\n          file: {\n            type: inputFileType,\n            name: inputFileName,\n            data: inputFileDataBase64,\n          },\n        });\n      };\n      file.readAsDataURL(compressedInputFile);\n    }\n\n    // clear the file input event value\n    e.target.value = \"\";\n  };\n\n  const resetState = () => {\n    setUploadData({\n      description: \"\",\n      file: {\n        type: \"\",\n        name: \"\",\n        data: \"\",\n      },\n    });\n    setProgress(\"\");\n  };\n\n  return (\n    <Paper className={classes.upload}>\n      <div className={classes.upload__header}>\n        <Avatar src={photoURL} />\n        <form className={classes.header__form} onSubmit={handleSubmitButton}>\n          <input\n            placeholder={`What's on your mind, ${displayName}?`}\n            value={uploadData.description}\n            onChange={(e) => setUploadData({ ...uploadData, description: e.target.value })}\n          />\n          <input\n            id=\"upload-image\"\n            type=\"file\"\n            accept=\"image/*\"\n            hidden\n            onChange={(e) => imageUploadHandler(e, \"image\")}\n          />\n          <input\n            id=\"upload-video\"\n            type=\"file\"\n            accept=\"video/*\"\n            hidden\n            onChange={(e) => imageUploadHandler(e, \"video\")}\n          />\n          <button type=\"submit\">Post</button>\n        </form>\n      </div>\n      {uploadData.file.name && !progress && (\n        <div className={classes.selectedFile}>\n          <Chip\n            color=\"primary\"\n            size=\"small\"\n            onDelete={resetState}\n            icon={uploadData.file.type === \"image\" ? <PhotoRoundedIcon /> : <VideocamRoundedIcon />}\n            label={uploadData.file.name}\n          />\n        </div>\n      )}\n      {progress ? (\n        <div className={classes.uploading}>\n          <LinearProgress variant=\"determinate\" value={progress} className={classes.progress} />\n          <p>{progress} %</p>\n        </div>\n      ) : (\n        \"\"\n      )}\n      <Divider />\n\n      <div className={classes.upload__media}>\n        <label htmlFor=\"upload-video\" className={classes.media__options}>\n          <VideocamRoundedIcon style={{ color: \"red\" }} />\n          <h4>Video</h4>\n        </label>\n        <label htmlFor=\"upload-image\" className={classes.media__options}>\n          <PhotoRoundedIcon style={{ color: \"green\" }} />\n          <h4>Photo</h4>\n        </label>\n        <div className={classes.media__options}>\n          <EmojiEmotionsOutlinedIcon style={{ color: \"orange\" }} />\n          <h4>Feeling/Activity</h4>\n        </div>\n      </div>\n    </Paper>\n  );\n};\n\nexport default Form;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}